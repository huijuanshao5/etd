\section{Disaggregation Formalism}
I propose a semi-supervised approach for disaggregation; i.e.
I assume that we know the on and off events for a short period of time for all devices or water end uses, 
and use that information to deduce the power levels or water usage, 
or to obtain the startup vectors of every device.

%Our disaggregation algorithm assumes that we know the features of each device from semi-supervised learning. 

For our purposes, we define the disaggregation problem as follows:
Given $K$-phase aggregated power 
or $K$ aggregated water consumption time series 
$Y_k=y_1^{(k)}, ..., y_T^{(k)}$, and a set of
power or water related and contextual features, $f=f_1, ..., f_T$ over a period of time T, 
the problem is to estimate the disaggregated power or water consumption of $M$ devices 
$\hat{X_m }= \hat{x}_{1}^{(m)}, ...\hat{x}_{t}^{(m)}, ... \hat{x}_{T}^{(m)}, m\in[1, M]$, 
such that a loss function of the sum of the power or water consumption of the $M$
devices and the sum of the $K$ phases of aggregated power or water consumption is minimized. 
\begin{equation}
\label{eq_powerObj}
\min_{\hat{x}_{t}^{(m)}} \{ \sum_{t=1}^T \mathscr{L}_t(\sum_{m=1}^M \hat{x}_{t}^{(m)}, \sum_{k=1}^Ky_t^{(k)}) \},
\end{equation}
where $\mathscr{L}_t$ is the loss function between 
the sum of $M$ estimated time series at $t$, 
and $y_t^{(k)}$ is the ground truth phase $k$ aggregated power or water feature at time $t$. 
$\mathscr{L}$ is usually the $\mathscr{L}1$-norm $|\sum_{m=1}^M \hat{x}_{t}^{(m)} -\sum_{k=1}^K y_t^{(k)}|$
or the $\mathscr{L}2$-norm $(\sum_{m=1}^M \hat{x}_{t}^{(m)}-\sum_{k=1}^Ky_t^{(k)})^2$.


